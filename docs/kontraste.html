<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Kontraste</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />
<link rel="shortcut icon" href="images/broom.ico">


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 60px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h2 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h3 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h4 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h5 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h6 {
  padding-top: 65px;
  margin-top: -65px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Chamber of Statistics</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
    Home
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Allgemeines
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="software.html">Software</a>
    </li>
    <li>
      <a href="r-basics.html">R Basics</a>
    </li>
    <li>
      <a href="stil.html">Stil</a>
    </li>
    <li>
      <a href="pakete.html">Pakete</a>
    </li>
    <li>
      <a href="daten-import.html">Daten-Import</a>
    </li>
    <li>
      <a href="data-wrangling.html">Data Wrangling</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Regression
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="regression.html">Überblick</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="korrelation.html">Korrelation</a>
    </li>
    <li>
      <a href="korrelation-messwiederholung.html">Korrelation mit Messwiederholung</a>
    </li>
    <li>
      <a href="lineare-regression.html">Lineare Regression</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Mittelwerte vergleichen
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="mittelwerte-vergleichen.html">Überblick</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">t-Tests</li>
    <li>
      <a href="t-test-einstichprobe.html">Bei einer Stichprobe</a>
    </li>
    <li>
      <a href="t-test-unabhaengig.html">Bei unabhängigen Stichproben</a>
    </li>
    <li>
      <a href="t-test-abhaengig.html">Bei abhängigen Stichproben</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">ANOVAs</li>
    <li>
      <a href="einfaktorielle-anova.html">Einfaktorielle ANOVA</a>
    </li>
    <li>
      <a href="faktorielle-anova.html">Faktorielle ANOVA</a>
    </li>
    <li class="dropdown-header">ANCOVA</li>
    <li>
      <a href="anova-messwiederholung.html">ANOVA mit Messwiederholung</a>
    </li>
    <li>
      <a href="mixed-anova.html">Mixed ANOVA</a>
    </li>
    <li>
      <a href="kontraste.html">Geplante Kontraste</a>
    </li>
    <li>
      <a href="post-hoc-tests.html">Post-hoc-Tests</a>
    </li>
    <li class="divider"></li>
  </ul>
</li>
<li>
  <a href="effektstaerken.html">Effektstärken</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Faktorenanalyse
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="explorative-faktorenanalyse.html">Explorative Faktorenanalyse</a>
    </li>
    <li class="dropdown-header">Konfirmatorische Faktorenanalyse</li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-question"></span>
     
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="voraussetzungen.html">Voraussetzungen im GLM</a>
    </li>
    <li>
      <a href="formelsammlung.html">Formelsammlung</a>
    </li>
    <li>
      <a href="zentraler-grenzwertsatz.html">Zentraler Grenzwertsatz</a>
    </li>
  </ul>
</li>
<li>
  <a href="about.html">
    <span class="fa fa-info"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Kontraste</h1>

</div>


<p><img src="images/contrast_r.jpg" /></p>
<p>Eine ANOVA ist ein <strong>Omnibus-Test</strong>, d.h., dass uns ein signifikanter <span class="math inline">\(F\)</span>-Wert erstmal nur sagt, dass sich die Gruppenmittelwerte (die Mittelwerte der unterschiedlichen Faktorstufen) voneinander unterscheiden. Wir wissen aber noch nicht <em>wo</em>. Im Grunde ist ein signifikantes Ergebnis einer ANOVA eine Aufforderung dazu, weitere Untersuchungen anzustellen. An dieser Stelle hat man nun zwei Möglichkeiten; entweder man hat bereits eine Hypohese oder Ahnung, wo die Unterschiede liegen könnten. In diesem Fall kann man vorab <strong>Kontrase</strong> (also geplante Kontraste) definieren und diese Unterschiede prüfen. Hat man keine Hypothesen und will “sich überraschen lassen”, macht man einen <strong>Post-hoc-Test</strong>.</p>
<p>Die Grundidee von Kontrasten ist, die Varianz, die durch unsere Faktoren erklärt wird, weiter aufzuschlüsseln. Die ANOVA an sich hat die Gesamtvarianz der Daten in eine Modell-Varianz und eine Residual-Varianz zerlegt, also Anteile der Streuung, die durch unser Modell (unsere Faktoren) erklärt werden kann und jene die übrig bleibt. Diese Modell-Varianz können wir nun weiter “aufsplitten”, bzw. weiter untersuchen. Am besten stellt man sich das wie einen Kuchen vor: Wir haben bereits ein Stück vom Kuchen abgeschnitten (die Residual-Varianz) und haben einen großen Teil vom Kuchen übrig. Wir wissen nun, dass irgendwo in diesem übrig gebliebenen Kuchen ein Unterschied steckt, den wir weiter aufklären wollen. Dazu teilen wir diesen Rest in weitere Teile und vergleichen diese miteinander.</p>
<div id="kontraste-definieren" class="section level1">
<h1>Kontraste definieren</h1>
<p>Man darf natürlich nicht wild drauf los raten und irgendwelche Gruppen miteinander vergleichen; das Vorgehen muss eine gewisse Struktur haben, damit sinnvolle – und vor allem interpretierbare – Berechnungen durchgeführt werden. Um ein Stück vom Kuchen (s.o.) mit einem anderen Stück zu vergleichen, nutzt man <strong>Gewichte</strong>, die wir gleich näher erläutern. Außerdem muss man, wenn man <span class="math inline">\(k\)</span> Gruppen miteinander vergleicht, <span class="math inline">\(k-1\)</span> Kontraste definieren. <span class="citation">Field (<a href="#ref-Field.2018" role="doc-biblioref">2018</a>)</span> hat zur Definition von Kontrasten fünf Regeln aufgestellt, an die man sich halten sollte:</p>
<ol style="list-style-type: decimal">
<li>Wähle sinnvolle Vergleiche. Es dürfen immer nur zwei Stücke miteinander verglichen werden; wurde ein Stück bereits verwendet, darf es in weiteren Kontrasten nicht mehr verwendet werden.</li>
<li>Stücke mit positiven Gewichten werden mit Stücken mit negativen Gewichten verglichen.</li>
<li>Die Summe der Gewichte eines Kontrasts sollte 0 sein.</li>
<li>Stücke, die in einem Kontrast nicht berücksichtigt werden sollen, erhalten ein Gewicht von 0.</li>
<li>Für einen einzelnen Kontrast sollten die Gewichte der Gruppen in einem Stück gleich der Anzahl der Gruppen im anderen Stück sein.</li>
</ol>
<p>Deutlich wird das, wenn wir uns dazu ein Beispiel anschauen.</p>
</div>
<div id="beispiel" class="section level1">
<h1>Beispiel</h1>
<p>Für das Beispiel der einfaktoriellen ANOVA hatten wir uns einen fiktiven Datensatz zu Besuchern des Phantasialandes angeschaut. In diesem Datensatz finden wir die empfundene Freude von 186 Besuchern des Phantasialandes (Variable <code>joy</code>), eingeteilt in Gruppen von Handgepäck-Typ. Wir haben Besucher ohne Handgepäck, mit leichtem und schwerem Rucksack und jenen, die einen Bollerwagen ziehen müssen. Mit der einfaktoriellen ANOVA haben wir bereits herausgefunden, dass sich diese Gruppen hinsichtlich ihrer Freude signifikant unterscheiden.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a>costatcompanion<span class="op">::</span>phantasialand</span></code></pre></div>
<pre><code>## # A tibble: 186 x 3
##    id    backpack   joy
##    &lt;chr&gt; &lt;fct&gt;    &lt;dbl&gt;
##  1 1     Light        5
##  2 2     Light        7
##  3 3     Handcart     3
##  4 4     Heavy        6
##  5 5     Heavy        3
##  6 6     Heavy        6
##  7 7     Handcart     4
##  8 8     None        10
##  9 9     None         9
## 10 10    Handcart     5
## # ... with 176 more rows</code></pre>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="co"># Boxplot</span></span>
<span id="cb3-2"><a href="#cb3-2"></a>phantasialand <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> backpack, <span class="dt">y =</span> joy)) <span class="op">+</span></span>
<span id="cb3-4"><a href="#cb3-4"></a><span class="st">  </span><span class="kw">geom_boxplot</span>(<span class="dt">outlier.color =</span> <span class="ot">NA</span>) <span class="op">+</span></span>
<span id="cb3-5"><a href="#cb3-5"></a><span class="st">  </span><span class="kw">geom_jitter</span>(<span class="dt">width =</span> <span class="fl">0.1</span>, <span class="dt">alpha =</span> <span class="fl">0.2</span>) <span class="op">+</span></span>
<span id="cb3-6"><a href="#cb3-6"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Gepäck&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;Freude&quot;</span>)</span></code></pre></div>
<p><img src="kontraste_files/figure-html/unnamed-chunk-4-1.png" width="2450" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="co"># ANOVA</span></span>
<span id="cb4-2"><a href="#cb4-2"></a>phantasialand <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb4-3"><a href="#cb4-3"></a><span class="st">  </span><span class="kw">anova_test</span>(joy <span class="op">~</span><span class="st"> </span>backpack)</span></code></pre></div>
<pre><code>## ANOVA Table (type II tests)
## 
##     Effect DFn DFd       F        p p&lt;.05   ges
## 1 backpack   3 182 126.164 3.14e-44     * 0.675</code></pre>
<p>Nun interressieren wir uns dafür, <em>wo</em> die Unterschiede sind. Wir müssen <span class="math inline">\(k-1\)</span> Kontraste definieren – und dann noch anhand der oben dargestellten Regeln. Zuerst haben wir hier <span class="math inline">\(k = 4\)</span> Gruppen, also müssen wir <span class="math inline">\(4-1 = 3\)</span> Kontraste definieren. Wir dürfen immer nur zwei Stücke vom Kuchen miteinander vergleichen Als erstes könnte uns bspw. interessieren, ob sich die Gruppe derer ohne Handgepäck (die glücklichsten) von allen anderen Gruppen unterscheidet. Die Gewichte würden dann so verteilt werden:</p>
<table>
<thead>
<tr class="header">
<th>Gruppe</th>
<th>Kontrast 1</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>None</td>
<td>-3</td>
</tr>
<tr class="even">
<td>Light</td>
<td>1</td>
</tr>
<tr class="odd">
<td>Heavy</td>
<td>1</td>
</tr>
<tr class="even">
<td>Handcart</td>
<td>1</td>
</tr>
<tr class="odd">
<td>Summe</td>
<td>0</td>
</tr>
</tbody>
</table>
<p>Für diesen ersten Kontrast sind alle Regeln erfüllt. Wir vergleichen nur zwei Stücke miteinander (“None” und alle anderen; Regel 1), was wir durch ein negatives und drei positive Gewichte kenntlich gemacht haben (Regel 2). Die Summe der Gewichte ist 0 (<span class="math inline">\(-3 + 1 + 1 + 1 = 0\)</span>; Regel 3) und Regel 5 ist auch erfüllt: Das negative Gewicht, das wir der Gruppe “None” zugewisen haben entspricht der Anzahl der Gruppen im Stück mit den positiven Gewichten (3). Auch die Gewichte im Stück mit den positiven Gewichten (jeweils 1) entsprechen der Anzahl der Gruppen im Stück mit den negativen Regressionsgewichten (hier nur die Gruppe “None”, also eine Gruppe). In diesem Kontrast werden alle Gruppen einbezogen, also findet Regel 4 noch keine Anwendung.</p>
<p>Machen wir uns an die übrigen Kontraste. Im nächsten Schritt würden wir vergleichen, ob sich die Gruppe dere mit leichtem Handgepäck von jenen unterscheidet, die schweres Handgepäck tragen oder einen Bollerwagen ziehen müssen.</p>
<table>
<thead>
<tr class="header">
<th>Gruppe</th>
<th>Kontrast 1</th>
<th>Kontrast 2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>None</td>
<td>-3</td>
<td>0</td>
</tr>
<tr class="even">
<td>Light</td>
<td>1</td>
<td>-2</td>
</tr>
<tr class="odd">
<td>Heavy</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="even">
<td>Handcart</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="odd">
<td>Summe</td>
<td>0</td>
<td>0</td>
</tr>
</tbody>
</table>
<p>Hier sind wieder alle Regeln erfüllt; sogar Regel 4, indem die Gruppe “None” ein Gewicht von 0 abbekommen hat. Wir haben diese Gruppe als solche nämlich bereits in Kontrast 1 genutzt, also sollten wie sie nun nicht mehr verwenden (Regel 1). Der letzte Kontrast vergleicht jene mit schwerem Handgepäck mit denen, die einen Bollerwagen ziehen.</p>
<table>
<thead>
<tr class="header">
<th>Gruppe</th>
<th>Kontrast 1</th>
<th>Kontrast 2</th>
<th>Kontrast 3</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>None</td>
<td>-3</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td>Light</td>
<td>1</td>
<td>-2</td>
<td>0</td>
</tr>
<tr class="odd">
<td>Heavy</td>
<td>1</td>
<td>1</td>
<td>-1</td>
</tr>
<tr class="even">
<td>Handcart</td>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="odd">
<td>Summe</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
</tbody>
</table>
<p>Und so einfach haben wir die drei Kontraste definiert. Wenn wir Kontraste so definieren, haben wir <strong>orthogonale (oder unabhängige) Kontraste</strong>, die die Interpretation erleichtern. Ob Kontraste orthogonal oder unabhängig sind, kann man auch wieder errechnen, indem man die Produkte der Kontrast-Gewichte addiert; kommt am Ende 0 bei raus, sind sie orthogonal.</p>
<table>
<thead>
<tr class="header">
<th>Gruppe</th>
<th>Kontrast 1</th>
<th>Kontrast 2</th>
<th>Kontrast 3</th>
<th>Produkt</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>None</td>
<td>-3</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td>Light</td>
<td>1</td>
<td>-2</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td>Heavy</td>
<td>1</td>
<td>1</td>
<td>-1</td>
<td>-1</td>
</tr>
<tr class="even">
<td>Handcart</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="odd">
<td>Summe</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
</tbody>
</table>
<p>Nicht orthogonale Kontrast an für sich sind nicht falsch, man sollte bei der Interpretation nur sehr vorsichtig sein, weil die Vergleiche nicht mehr unabhängig sind und die <span class="math inline">\(p\)</span>-Werte der Kontraste miteinander korrelieren könnten (und alleine diese Aussage sollte bei jedem Leser einen Schwall von Unbehagen auslösen).</p>
</div>
<div id="durchführung" class="section level1">
<h1>Durchführung</h1>
<p>Unsere Kontraste können wir nun manuell definieren. Vorher sollten wir uns aber die Reihenfolge der Faktorlevels anschauen, nur um sicherzugehen, dass wir den Gruppen die richtigen Gewichte geben.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>phantasialand <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="st">  </span><span class="kw">pull</span>(backpack) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb6-3"><a href="#cb6-3"></a><span class="st">  </span><span class="kw">levels</span>()</span></code></pre></div>
<pre><code>## [1] &quot;None&quot;     &quot;Light&quot;    &quot;Heavy&quot;    &quot;Handcart&quot;</code></pre>
<p>Die Reihenfolge ist wie gedacht, also können wir auch die Kontraste wie in der obigen Tabelle definieren.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a>contrast_<span class="dv">1</span> &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="op">-</span><span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>)</span>
<span id="cb8-2"><a href="#cb8-2"></a>contrast_<span class="dv">2</span> &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">-2</span>, <span class="dv">1</span>, <span class="dv">1</span>)</span>
<span id="cb8-3"><a href="#cb8-3"></a>contrast_<span class="dv">3</span> &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">-1</span>, <span class="dv">1</span>)</span>
<span id="cb8-4"><a href="#cb8-4"></a></span>
<span id="cb8-5"><a href="#cb8-5"></a>my_contrasts &lt;-<span class="st"> </span><span class="kw">cbind</span>(contrast_<span class="dv">1</span>, contrast_<span class="dv">2</span>, contrast_<span class="dv">3</span>)</span>
<span id="cb8-6"><a href="#cb8-6"></a></span>
<span id="cb8-7"><a href="#cb8-7"></a><span class="kw">contrasts</span>(phantasialand<span class="op">$</span>backpack) &lt;-<span class="st"> </span>my_contrasts</span>
<span id="cb8-8"><a href="#cb8-8"></a></span>
<span id="cb8-9"><a href="#cb8-9"></a>phantasialand <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">pull</span>(backpack)</span></code></pre></div>
<pre><code>##   [1] Light    Light    Handcart Heavy    Heavy    Heavy    Handcart None    
##   [9] None     Handcart None     None     None     None     Handcart None    
##  [17] Light    None     Light    Heavy    Heavy    None     Heavy    Heavy   
##  [25] Light    Light    Handcart Handcart None     Light    Handcart Light   
##  [33] None     Light    None     Heavy    Heavy    Heavy    Handcart Handcart
##  [41] Light    Light    Light    None     None     None     None     Heavy   
##  [49] Handcart Handcart None     Heavy    Heavy    Light    Heavy    Heavy   
##  [57] Heavy    None     Light    Heavy    Heavy    Heavy    Light    Handcart
##  [65] Heavy    Heavy    Heavy    Light    Light    None     Heavy    Light   
##  [73] Handcart Heavy    Heavy    Light    None     None     Light    Handcart
##  [81] Heavy    Light    Heavy    None     Heavy    None     Light    Handcart
##  [89] Heavy    Handcart Heavy    Heavy    None     Heavy    Light    Light   
##  [97] Light    Light    Handcart None     Handcart None     Handcart Handcart
## [105] Light    None     Handcart Heavy    Heavy    None     None     Handcart
## [113] Heavy    Light    None     Handcart Handcart Heavy    Light    Heavy   
## [121] Heavy    Light    Heavy    None     Handcart Light    Light    Light   
## [129] Heavy    Light    Light    Light    Handcart Handcart Handcart Light   
## [137] Handcart Heavy    None     None     Heavy    None     Light    Heavy   
## [145] None     Heavy    None     Heavy    Handcart Handcart Handcart Handcart
## [153] Light    Light    Heavy    Light    Heavy    Light    Light    Heavy   
## [161] None     Heavy    Heavy    None     Light    None     Light    Heavy   
## [169] Heavy    None     Light    Handcart Light    Heavy    Light    Heavy   
## [177] Handcart None     None     Light    Light    Light    Heavy    Heavy   
## [185] Light    Light   
## attr(,&quot;contrasts&quot;)
##          contrast_1 contrast_2 contrast_3
## None             -3          0          0
## Light             1         -2          0
## Heavy             1          1         -1
## Handcart          1          1          1
## Levels: None Light Heavy Handcart</code></pre>
<p>Wenn wir uns nun die Variable im Datensatz ansehen, stellen wir fest, dass ein Attribut hinzugefügt wurde, nämlich unsere Kontraste. Eigentlich wurde dieses Attribut nicht hinzugefügt, R hat nämlich einen Standard-Kontrast hinterlegt, den wir jetzt einfach überschrieben haben. Um die Kontraste nun zu berechnen, formulieren wir unser Modell in der hauseigenen ANOVA-Funktion von R, <code>aov()</code>, und speichern die Ergebnisse in einem neuen Objekt, das wir in diesem Fall <code>model_results</code> genannt haben.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a>model_results &lt;-<span class="st"> </span><span class="kw">aov</span>(joy <span class="op">~</span><span class="st"> </span>backpack, <span class="dt">data =</span> phantasialand)</span></code></pre></div>
<p>Um nun Informationen aus diesem Objekt zu ziehen, müssen wir uns die Zusammenfassung, also die <code>summary()</code> dieses Objektes anschauen.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="kw">summary</span>(model_results)</span></code></pre></div>
<pre><code>##              Df Sum Sq Mean Sq F value Pr(&gt;F)    
## backpack      3  818.8  272.93   126.2 &lt;2e-16 ***
## Residuals   182  393.7    2.16                   
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
<p>An dieser Stelle ist klar, dass die Funktion <code>aov()</code> aus Base R nichts anderes macht als die Funktion <code>anova_test()</code> aus dem Paket <code>rstatix</code>; die Ergebnisse sind nämlich identisch. Ursprünglich habe ich diese Funktion bewusst vorgestellt, da sie super in das Tidyverse passt – Kontraste kann man damit jedoch (noch) nicht berechnen. Dafür müssen wir zu Base R ausweichen.</p>
<p>Wo sind denn jetzt die Kontraste? Da wir uns im GLM, also im allgemeinen linearen Modell bewegen, und eine ANOVA auch nichts anderes als eine lineare Regression ist, müssen wir uns die Zusammenfassung “durch die Brille” einer linearen Regression ansehen. Das ist mit der Funktion <code>summary.lm()</code> möglich.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="kw">summary.lm</span>(model_results)</span></code></pre></div>
<pre><code>## 
## Call:
## aov(formula = joy ~ backpack, data = phantasialand)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -4.0566 -1.0566 -0.0566  0.9286  3.5357 
## 
## Coefficients:
##                    Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)         6.30522    0.10976  57.445   &lt;2e-16 ***
## backpackcontrast_1 -0.92207    0.06481 -14.228   &lt;2e-16 ***
## backpackcontrast_2 -0.83673    0.08559  -9.776   &lt;2e-16 ***
## backpackcontrast_3 -1.91786    0.15846 -12.103   &lt;2e-16 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 1.471 on 182 degrees of freedom
## Multiple R-squared:  0.6753, Adjusted R-squared:  0.6699 
## F-statistic: 126.2 on 3 and 182 DF,  p-value: &lt; 2.2e-16</code></pre>
<p>Hier sind unsere einzelnen Kontraste nun als Prädiktorvariablen (mit Dummy-Codierung) im Rahmen einer linearen Regression aufgelistet, mit entsprechenden <span class="math inline">\(p\)</span>-Werten. Alle Kontraste sind signifikant, d.h., dass sich die Gruppe der Besucher ohne Handgepäck signifikant von allen anderen mit Handgepäck unterscheidet. Außerdem unterscheiden sich diejenigen mit leichtem Rucksack signifikant von allen mit schwerem Rucksack und Bollerwagen-Ziehern. Als letztes unterscheiden sich jene mit schwerem Rucksack signifikant von Bollerwagen-Ziehern.</p>
</div>
<div id="literatur" class="section level1 unnumbered">
<h1>Literatur</h1>
<div id="refs" class="references">
<div id="ref-Field.2018">
<p>Field, A. P. (2018). <em>Discovering Statistics using IBM SPSS Statistics</em> (5th ed.). SAGE.</p>
</div>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
