<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Datenvisualisierung</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />
<link rel="shortcut icon" href="images/broom.ico">


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 60px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h2 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h3 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h4 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h5 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h6 {
  padding-top: 65px;
  margin-top: -65px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Chamber of Statistics</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
    Home
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Allgemeines
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="software.html">Software</a>
    </li>
    <li>
      <a href="r-basics.html">R Basics</a>
    </li>
    <li>
      <a href="stil.html">Stil</a>
    </li>
    <li>
      <a href="pakete.html">Pakete</a>
    </li>
    <li>
      <a href="daten-import.html">Daten-Import</a>
    </li>
    <li>
      <a href="data-wrangling.html">Data Wrangling</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Regression
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="regression.html">Überblick</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="korrelation.html">Korrelation</a>
    </li>
    <li>
      <a href="korrelation-messwiederholung.html">Korrelation mit Messwiederholung</a>
    </li>
    <li>
      <a href="lineare-regression.html">Lineare Regression</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Mittelwerte vergleichen
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="mittelwerte-vergleichen.html">Überblick</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">t-Tests</li>
    <li>
      <a href="t-test-einstichprobe.html">Bei einer Stichprobe</a>
    </li>
    <li>
      <a href="t-test-unabhaengig.html">Bei unabhängigen Stichproben</a>
    </li>
    <li>
      <a href="t-test-abhaengig.html">Bei abhängigen Stichproben</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">ANOVAs</li>
    <li>
      <a href="einfaktorielle-anova.html">Einfaktorielle ANOVA</a>
    </li>
    <li>
      <a href="faktorielle-anova.html">Faktorielle ANOVA</a>
    </li>
    <li class="dropdown-header">ANCOVA</li>
    <li>
      <a href="anova-messwiederholung.html">ANOVA mit Messwiederholung</a>
    </li>
    <li class="dropdown-header">Mixed ANOVA</li>
    <li>
      <a href="kontraste.html">Geplante Kontraste</a>
    </li>
    <li>
      <a href="post-hoc-tests.html">Post-hoc-Tests</a>
    </li>
    <li class="divider"></li>
  </ul>
</li>
<li>
  <a href="effektstaerken.html">Effektstärken</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-question"></span>
     
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="voraussetzungen.html">Voraussetzungen im GLM</a>
    </li>
    <li>
      <a href="formelsammlung.html">Formelsammlung</a>
    </li>
    <li>
      <a href="zentraler-grenzwertsatz.html">Zentraler Grenzwertsatz</a>
    </li>
  </ul>
</li>
<li>
  <a href="about.html">
    <span class="fa fa-info"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Datenvisualisierung</h1>

</div>


<!-- Spanner Image -->
<p><img src="images/chart_r.jpg" /></p>
<p>Eines der Anwendungsgebiete von R ist die Visualisierung statistischer Daten. Durch die Fülle der vorhandenen Pakete, können eine Vielzahl von Abbildungen erstellt werden, die andere Statistikprogramme im wahrsten Sinne des Wortes alt aussehen lassen. Der <em>de facto</em> Standard zur Erstellung wissenschaftlicher Abbildung ist das Paket <code>ggplot2</code>, das mit dem <a href="pakete.html">Tidyverse</a> installiert und standardmäßig geladen wird.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw">library</span>(tidyverse)</span></code></pre></div>
<div id="grammar-of-graphics" class="section level1">
<h1>Grammar of Graphics</h1>
</div>
<div id="statistische-zusammenfassungen" class="section level1">
<h1>Statistische Zusammenfassungen</h1>
</div>
<div id="fallstudie" class="section level1">
<h1>Fallstudie</h1>
<p>Eine tolle Abbildung, an der viel lernen können, stammt von der <span class="citation">Open Science Collaboration (<a href="#ref-OpenScienceCollaboration.2015" role="doc-biblioref">2015</a>, S. 6)</span> und wurde im Magazin <em>Science</em> veröffentlicht. Die Gruppe hatte sich zum Ziel gesetzt, hundert psychologische Studien zu replizieren. Sie wählten hoch publizierte Studien aus und versuchten diese unabhängig von der originalen Arbeitsgruppe zu replizieren. Das Ergebnis war sehr ernüchternd, weil ca. 65% der Studien <em>nicht</em> repliziert werden konnten und die durchschnittliche Effektstärke der replizierten Studien nur halb so groß war, wie in den Original-Studien. Die Psychologie wurde spätestens damit in eine fortwährende Replikations-Krise gestürzt.</p>
<p>Einen Teil ihrer Ergebnisse fasste die Gruppe in einer sehr informationsreichen Abbildung zusammen (Abbildung 3 in der Originalarbeit).</p>
<p><img src="images/osc2015.jpg" width="80%" style="display: block; margin: auto;" /></p>
<p>Hier können wir auf der <span class="math inline">\(x\)</span>-Achse die Effektstärke der Original-Arbeit sehen (in <span class="math inline">\(r\)</span>) und auf der <span class="math inline">\(y\)</span>-Achse die Effektstärke der Replikations-Studie. Zudem wurde farblich kenntlich gemacht, ob eine Studie in der Replikation signifikant, also ob <span class="math inline">\(p &lt; 0.05\)</span> war. Dann wurde die Größe der einzelnen Datenpunkte skaliert anhand der Power der Replikationsstudie, wir haben Fransenachsen, die uns die Verteilung der Studien anzeigen und dann sind noch zusätzlich Kerndichteschätzungen der Verteilulng der Effektstärken für die Original- und Replikationsstudien am Rand der Abbildung angegeben.</p>
<p>Auch wenn diese Abbildung sehr kompliziert zu erstellen scheint, und es mit herkömmlichen Programmen unmöglich wäre, eine solche Abbildung in einem Schritt und reproduzierbar zu erstellen, können wir diese Abbildung mit <code>ggplot2</code> im Handumdrehen auf unseren Bildschirm zaubern. Die Grundlage einer jeden Abbildung sind natürlich Daten. Die Original-Daten der Autoren kann man sich beim <a href="https://osf.io/ezcuj">Open Science Framework</a> herunterladen und sich am <em>data cleaning</em> versuchen. Eine abgespeckte Version der Daten, die alle nötigen Variablen enthält, findet sich aber auch im <a href="pakete.html#costatcompanion"><code>costatcompanion</code></a> als <code>reproducibility_project</code>.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="kw">library</span>(costatcompanion)</span>
<span id="cb2-2"><a href="#cb2-2"></a></span>
<span id="cb2-3"><a href="#cb2-3"></a>reproducibility_project</span></code></pre></div>
<pre><code>## # A tibble: 168 x 15
##    study_title_o journal_o first_author senior_author_o institution_pre~
##    &lt;chr&gt;         &lt;chr&gt;     &lt;chr&gt;        &lt;chr&gt;                      &lt;dbl&gt;
##  1 Tracing atte~ JEPLMC    Roelofs      Roelofs                     2.52
##  2 Now you see ~ JEPLMC    Morris       Morris                      3.27
##  3 Working memo~ JEPLMC    Liefooghe    Vandierendonck              2.57
##  4 Accelerated ~ JEPLMC    Storm        Bjork                       5.16
##  5 The intermix~ JEPLMC    Mitchell     Hall                        2.52
##  6 A single-sys~ JEPLMC    Berry        Henson                      4.13
##  7 Modeling dis~ JEPLMC    Beaman       Beaman                      2.22
##  8 Stereotypes ~ JEPLMC    Dodson       Dodson                      4.36
##  9 Prime diagno~ JEPLMC    Weidemann    Shiffrin                    4.5 
## 10 Across-notat~ JEPLMC    Ganor-Stern  Tzelgov                     1.28
## # ... with 158 more rows, and 10 more variables:
## #   institution_prestige_senior_author_o &lt;dbl&gt;, surprising_result_o &lt;dbl&gt;,
## #   exciting_result_o &lt;dbl&gt;, pval_original &lt;dbl&gt;, pval_replication &lt;dbl&gt;,
## #   es_original &lt;dbl&gt;, es_replication &lt;dbl&gt;, power_r &lt;dbl&gt;, sig_original &lt;fct&gt;,
## #   sig_replication &lt;fct&gt;</code></pre>
<div id="basis-plot" class="section level2">
<h2>Basis-Plot</h2>
<p>Beginnen wir mit dem Basis-Plot in der Mitte. Da für einige Studien keine Effektstärken berechnet werden konnten, filtern wir uns nur die Fälle raus, bei denen wir eine Effektstärke für beide Messungen haben.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>reproducibility_complete &lt;-<span class="st"> </span>reproducibility_project <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="st">  </span><span class="kw">filter</span>(<span class="op">!</span><span class="kw">is.na</span>(es_original) <span class="op">&amp;</span><span class="st"> </span><span class="op">!</span><span class="kw">is.na</span>(es_replication))</span>
<span id="cb4-3"><a href="#cb4-3"></a></span>
<span id="cb4-4"><a href="#cb4-4"></a>reproducibility_complete</span></code></pre></div>
<pre><code>## # A tibble: 97 x 15
##    study_title_o journal_o first_author senior_author_o institution_pre~
##    &lt;chr&gt;         &lt;chr&gt;     &lt;chr&gt;        &lt;chr&gt;                      &lt;dbl&gt;
##  1 Tracing atte~ JEPLMC    Roelofs      Roelofs                     2.52
##  2 Now you see ~ JEPLMC    Morris       Morris                      3.27
##  3 Working memo~ JEPLMC    Liefooghe    Vandierendonck              2.57
##  4 Accelerated ~ JEPLMC    Storm        Bjork                       5.16
##  5 The intermix~ JEPLMC    Mitchell     Hall                        2.52
##  6 A single-sys~ JEPLMC    Berry        Henson                      4.13
##  7 Modeling dis~ JEPLMC    Beaman       Beaman                      2.22
##  8 Stereotypes ~ JEPLMC    Dodson       Dodson                      4.36
##  9 Across-notat~ JEPLMC    Ganor-Stern  Tzelgov                     1.28
## 10 Attractor dy~ JEPLMC    Mirman       Magnuson                    3.16
## # ... with 87 more rows, and 10 more variables:
## #   institution_prestige_senior_author_o &lt;dbl&gt;, surprising_result_o &lt;dbl&gt;,
## #   exciting_result_o &lt;dbl&gt;, pval_original &lt;dbl&gt;, pval_replication &lt;dbl&gt;,
## #   es_original &lt;dbl&gt;, es_replication &lt;dbl&gt;, power_r &lt;dbl&gt;, sig_original &lt;fct&gt;,
## #   sig_replication &lt;fct&gt;</code></pre>
<p>Wie immer fangen wir an, unsere <span class="math inline">\(x\)</span>- und <span class="math inline">\(y\)</span>-Achse zu definieren. Dann wollen wir Punkte zeichnen, also können wir gleich ein <code>geom_point()</code> hintererschmeißen. Die Effektstärke der Original-Studie findet sich im Datensatz unter der Variablen <code>es_original</code>, die der Replikation unter <code>es_replication</code>.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>reproducibility_complete <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> es_original, <span class="dt">y =</span> es_replication)) <span class="op">+</span></span>
<span id="cb6-3"><a href="#cb6-3"></a><span class="st">  </span><span class="kw">geom_point</span>()</span></code></pre></div>
<p><img src="datenvisualisierung_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<p>Nun wollen wir etwas Farbe ins Spiel bringen, also angeben, ob eine Studie in der Repliktaion signifikant war, oder eben nicht. Die Variable, die uns das angibt, ist <code>sig_replication</code>.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>reproducibility_complete <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> es_original, <span class="dt">y =</span> es_replication, <span class="dt">color =</span> sig_replication)) <span class="op">+</span></span>
<span id="cb7-3"><a href="#cb7-3"></a><span class="st">  </span><span class="kw">geom_point</span>()</span></code></pre></div>
<p><img src="datenvisualisierung_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<p>Wunderbar, als nächstes wollen wir die Größe der Punkte abhängig von der Power in der Replikations-Studie machen. Die entsprechende Variable heißt <code>power_r</code>.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a>reproducibility_complete <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb8-2"><a href="#cb8-2"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> es_original, <span class="dt">y =</span> es_replication, <span class="dt">color =</span> sig_replication, <span class="dt">size =</span> power_r)) <span class="op">+</span></span>
<span id="cb8-3"><a href="#cb8-3"></a><span class="st">  </span><span class="kw">geom_point</span>()</span></code></pre></div>
<p><img src="datenvisualisierung_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<p>Das ist schon gar nicht schlecht, aber wir haben jetzt das Problem von “overplotting”, also, dass viele Datenpukte übereinander liegen könnten, ohne, dass wir das mitbekommen. Eine gute Lösung ist es, die einzelnen Punkte transparent zu machen. Wir wollen, dass das ausschließlich die Punkte betrifft, weshalb wir diese Transformation auch nur in der Ebene der Punkte angeben können. Transparenz steuert man über das Argument <code>alpha</code>.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a>reproducibility_complete <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb9-2"><a href="#cb9-2"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> es_original, <span class="dt">y =</span> es_replication, <span class="dt">color =</span> sig_replication, <span class="dt">size =</span> power_r)) <span class="op">+</span></span>
<span id="cb9-3"><a href="#cb9-3"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">alpha =</span> <span class="fl">0.4</span>)</span></code></pre></div>
<p><img src="datenvisualisierung_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<p>Das sieht schon ziemlich professionell aus, und tatsächlich gibt es einige Cluster von Punkten, die ziemlich genau übereinander liegen. Um das auch etwas klarer zu machen, wurden “Fransen”-Achsen eingezeichnet, die die Verteilung der Datenpunkte noch einmal genauer darstellen. Diese können wir mit <code>geom_rug()</code> erstellen.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a>reproducibility_complete <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb10-2"><a href="#cb10-2"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> es_original, <span class="dt">y =</span> es_replication, <span class="dt">color =</span> sig_replication, <span class="dt">size =</span> power_r)) <span class="op">+</span></span>
<span id="cb10-3"><a href="#cb10-3"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">alpha =</span> <span class="fl">0.4</span>) <span class="op">+</span></span>
<span id="cb10-4"><a href="#cb10-4"></a><span class="st">  </span><span class="kw">geom_rug</span>()</span></code></pre></div>
<p><img src="datenvisualisierung_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<p>Wir stellen jedoch fest, dass die Größe der Fransen nicht stimmt und die Farbe der Fransen auf der <span class="math inline">\(x\)</span>-Achse nicht stimmt. Das Problem der Größe erhalten wir dadurch, dass wir die Größe als “allgemeine” <em>aesthetic</em> zugeornet haben. Wir wollen jedoch nur, dass die Punkte von der Größe beeinflusst werden, weshalb wir diese <em>aesthetic</em> nun nur in der Ebene der Punkte mappen.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a>reproducibility_complete <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb11-2"><a href="#cb11-2"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> es_original, <span class="dt">y =</span> es_replication, <span class="dt">color =</span> sig_replication)) <span class="op">+</span></span>
<span id="cb11-3"><a href="#cb11-3"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">size =</span> power_r), <span class="dt">alpha =</span> <span class="fl">0.4</span>) <span class="op">+</span></span>
<span id="cb11-4"><a href="#cb11-4"></a><span class="st">  </span><span class="kw">geom_rug</span>()</span></code></pre></div>
<p><img src="datenvisualisierung_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
<p>Das sieht schon besser aus. Aus der Vorlage geht hervor, dass die Einfärbung der Fransen auf der <span class="math inline">\(x\)</span>-Achse nicht anhand der Signifikanz in der Replikation erfolgen soll (also nicht anhand <code>sig_replication</code>), sondern in Bezug auf die Signifikanz in der Original-Studie (also <code>sig_original</code>). Auch das können wir ganz einfach umsetzen, indem wir jeweils ein <code>geom_rug()</code> für die beiden Achsen mit unterschiedlichen <em>aesthetics</em> einzeichnen.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a>reproducibility_complete <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb12-2"><a href="#cb12-2"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> es_original, <span class="dt">y =</span> es_replication, <span class="dt">color =</span> sig_replication)) <span class="op">+</span></span>
<span id="cb12-3"><a href="#cb12-3"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">size =</span> power_r), <span class="dt">alpha =</span> <span class="fl">0.4</span>) <span class="op">+</span></span>
<span id="cb12-4"><a href="#cb12-4"></a><span class="st">  </span><span class="kw">geom_rug</span>(<span class="kw">aes</span>(<span class="dt">color =</span> sig_original), <span class="dt">sides =</span> <span class="st">&quot;b&quot;</span>) <span class="op">+</span></span>
<span id="cb12-5"><a href="#cb12-5"></a><span class="st">  </span><span class="kw">geom_rug</span>(<span class="kw">aes</span>(<span class="dt">color =</span> sig_replication), <span class="dt">sides =</span> <span class="st">&quot;l&quot;</span>)</span></code></pre></div>
<p><img src="datenvisualisierung_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
<p>In unserer Vorlage aus der Original-Arbeit haben die Autoren noch zwei Hilfslinien eingezeichnet: Eine horizontale, die durch den <span class="math inline">\(y\)</span>-Achsen-Abschnitt 0 geht und eine schräge, die die Steigung 1 hat und <span class="math inline">\(y\)</span> auch bei 0 schneidet. Eine horizontale Linie können wir mit <code>geom_hline()</code> zeichnen lassen, eine schräge mit <code>geom_abline()</code>. Den Linientyp können wir mit dem Argument <code>linetype</code> beeinflussen, das wir bei der horizontalen Linie auf <code>"dashed"</code> setzen.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a>reproducibility_complete <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb13-2"><a href="#cb13-2"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> es_original, <span class="dt">y =</span> es_replication, <span class="dt">color =</span> sig_replication)) <span class="op">+</span></span>
<span id="cb13-3"><a href="#cb13-3"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">size =</span> power_r), <span class="dt">alpha =</span> <span class="fl">0.4</span>) <span class="op">+</span></span>
<span id="cb13-4"><a href="#cb13-4"></a><span class="st">  </span><span class="kw">geom_rug</span>(<span class="kw">aes</span>(<span class="dt">color =</span> sig_original), <span class="dt">sides =</span> <span class="st">&quot;b&quot;</span>) <span class="op">+</span></span>
<span id="cb13-5"><a href="#cb13-5"></a><span class="st">  </span><span class="kw">geom_rug</span>(<span class="kw">aes</span>(<span class="dt">color =</span> sig_replication), <span class="dt">sides =</span> <span class="st">&quot;l&quot;</span>) <span class="op">+</span></span>
<span id="cb13-6"><a href="#cb13-6"></a><span class="st">  </span><span class="kw">geom_hline</span>(<span class="dt">yintercept =</span> <span class="dv">0</span>, <span class="dt">linetype =</span> <span class="st">&quot;dashed&quot;</span>)</span></code></pre></div>
<p><img src="datenvisualisierung_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a>reproducibility_complete <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb14-2"><a href="#cb14-2"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> es_original, <span class="dt">y =</span> es_replication, <span class="dt">color =</span> sig_replication)) <span class="op">+</span></span>
<span id="cb14-3"><a href="#cb14-3"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">size =</span> power_r), <span class="dt">alpha =</span> <span class="fl">0.4</span>) <span class="op">+</span></span>
<span id="cb14-4"><a href="#cb14-4"></a><span class="st">  </span><span class="kw">geom_rug</span>(<span class="kw">aes</span>(<span class="dt">color =</span> sig_original), <span class="dt">sides =</span> <span class="st">&quot;b&quot;</span>) <span class="op">+</span></span>
<span id="cb14-5"><a href="#cb14-5"></a><span class="st">  </span><span class="kw">geom_rug</span>(<span class="kw">aes</span>(<span class="dt">color =</span> sig_replication), <span class="dt">sides =</span> <span class="st">&quot;l&quot;</span>) <span class="op">+</span></span>
<span id="cb14-6"><a href="#cb14-6"></a><span class="st">  </span><span class="kw">geom_hline</span>(<span class="dt">yintercept =</span> <span class="dv">0</span>, <span class="dt">linetype =</span> <span class="st">&quot;dashed&quot;</span>) <span class="op">+</span></span>
<span id="cb14-7"><a href="#cb14-7"></a><span class="st">  </span><span class="kw">geom_abline</span>(<span class="dt">slope =</span> <span class="dv">1</span>, <span class="dt">intercept =</span> <span class="dv">0</span>)</span></code></pre></div>
<p><img src="datenvisualisierung_files/figure-html/unnamed-chunk-12-2.png" width="672" /></p>
<p>Da fehlen nur noch die korrekten Beschriftungen und ein bisschen Arbeit am generellen <em>theme</em>. Die Beschriftungen können wir über den Befehl <code>labs()</code> steuern.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a>reproducibility_complete <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb15-2"><a href="#cb15-2"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> es_original, <span class="dt">y =</span> es_replication, <span class="dt">color =</span> sig_replication)) <span class="op">+</span></span>
<span id="cb15-3"><a href="#cb15-3"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">size =</span> power_r), <span class="dt">alpha =</span> <span class="fl">0.4</span>) <span class="op">+</span></span>
<span id="cb15-4"><a href="#cb15-4"></a><span class="st">  </span><span class="kw">geom_rug</span>(<span class="kw">aes</span>(<span class="dt">color =</span> sig_original), <span class="dt">sides =</span> <span class="st">&quot;b&quot;</span>) <span class="op">+</span></span>
<span id="cb15-5"><a href="#cb15-5"></a><span class="st">  </span><span class="kw">geom_rug</span>(<span class="kw">aes</span>(<span class="dt">color =</span> sig_replication), <span class="dt">sides =</span> <span class="st">&quot;l&quot;</span>) <span class="op">+</span></span>
<span id="cb15-6"><a href="#cb15-6"></a><span class="st">  </span><span class="kw">geom_hline</span>(<span class="dt">yintercept =</span> <span class="dv">0</span>, <span class="dt">linetype =</span> <span class="st">&quot;dashed&quot;</span>) <span class="op">+</span></span>
<span id="cb15-7"><a href="#cb15-7"></a><span class="st">  </span><span class="kw">geom_abline</span>(<span class="dt">slope =</span> <span class="dv">1</span>, <span class="dt">intercept =</span> <span class="dv">0</span>) <span class="op">+</span></span>
<span id="cb15-8"><a href="#cb15-8"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Original Effect Size&quot;</span>,</span>
<span id="cb15-9"><a href="#cb15-9"></a>       <span class="dt">y =</span> <span class="st">&quot;Replication Effect Size&quot;</span>,</span>
<span id="cb15-10"><a href="#cb15-10"></a>       <span class="dt">color =</span> <span class="st">&quot;p-value&quot;</span>,</span>
<span id="cb15-11"><a href="#cb15-11"></a>       <span class="dt">size =</span> <span class="st">&quot;Replication Power&quot;</span>)</span></code></pre></div>
<p><img src="datenvisualisierung_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
<p>Zu guter letzt können wir der Abbildung noch ein schlichtes <em>theme</em>, wie etwa <code>theme_classic()</code>, zuweisen.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a>reproducibility_complete <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb16-2"><a href="#cb16-2"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> es_original, <span class="dt">y =</span> es_replication, <span class="dt">color =</span> sig_replication)) <span class="op">+</span></span>
<span id="cb16-3"><a href="#cb16-3"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">size =</span> power_r), <span class="dt">alpha =</span> <span class="fl">0.4</span>) <span class="op">+</span></span>
<span id="cb16-4"><a href="#cb16-4"></a><span class="st">  </span><span class="kw">geom_rug</span>(<span class="kw">aes</span>(<span class="dt">color =</span> sig_original), <span class="dt">sides =</span> <span class="st">&quot;b&quot;</span>) <span class="op">+</span></span>
<span id="cb16-5"><a href="#cb16-5"></a><span class="st">  </span><span class="kw">geom_rug</span>(<span class="kw">aes</span>(<span class="dt">color =</span> sig_replication), <span class="dt">sides =</span> <span class="st">&quot;l&quot;</span>) <span class="op">+</span></span>
<span id="cb16-6"><a href="#cb16-6"></a><span class="st">  </span><span class="kw">geom_hline</span>(<span class="dt">yintercept =</span> <span class="dv">0</span>, <span class="dt">linetype =</span> <span class="st">&quot;dashed&quot;</span>) <span class="op">+</span></span>
<span id="cb16-7"><a href="#cb16-7"></a><span class="st">  </span><span class="kw">geom_abline</span>(<span class="dt">slope =</span> <span class="dv">1</span>, <span class="dt">intercept =</span> <span class="dv">0</span>) <span class="op">+</span></span>
<span id="cb16-8"><a href="#cb16-8"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Original Effect Size&quot;</span>,</span>
<span id="cb16-9"><a href="#cb16-9"></a>       <span class="dt">y =</span> <span class="st">&quot;Replication Effect Size&quot;</span>,</span>
<span id="cb16-10"><a href="#cb16-10"></a>       <span class="dt">color =</span> <span class="st">&quot;p-value&quot;</span>,</span>
<span id="cb16-11"><a href="#cb16-11"></a>       <span class="dt">size =</span> <span class="st">&quot;Replication Power&quot;</span>) <span class="op">+</span></span>
<span id="cb16-12"><a href="#cb16-12"></a><span class="st">  </span><span class="kw">theme_classic</span>()</span></code></pre></div>
<p><img src="datenvisualisierung_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>
<p>Das kommt der Vorlage schon recht nahe. Lassen wir das erstmal so stehen und kümmern uns um die Kerndichteschätzungen.</p>
</div>
<div id="dichte-plot-x-achse" class="section level2">
<h2>Dichte-Plot <span class="math inline">\(x\)</span>-Achse</h2>
<p>Die Kerndichteschätzung, die über dem Basis-Plot liegen soll, zeigt die Verteilung der Effektstärken der Original-Studien an, farblich getrennt für signifikante und nicht signifikante Studien. Dichte-Verteilungen können wir mit <code>geom_density()</code> erstellen. Dazu mappen wir die Effektstärke der Original-Studie auf der <span class="math inline">\(x\)</span>-Achse, die <span class="math inline">\(y\)</span>-Achse wird bei Kerndichteschätzungen für uns berechnet.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a>reproducibility_complete <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb17-2"><a href="#cb17-2"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> es_original)) <span class="op">+</span></span>
<span id="cb17-3"><a href="#cb17-3"></a><span class="st">  </span><span class="kw">geom_density</span>()</span></code></pre></div>
<p><img src="datenvisualisierung_files/figure-html/unnamed-chunk-15-1.png" width="672" /></p>
<p>Nun wollen wir farblich kenntlich machen, welche Studien signifikant waren oder nicht.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a>reproducibility_complete <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb18-2"><a href="#cb18-2"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> es_original, <span class="dt">color =</span> sig_original)) <span class="op">+</span></span>
<span id="cb18-3"><a href="#cb18-3"></a><span class="st">  </span><span class="kw">geom_density</span>()</span></code></pre></div>
<p><img src="datenvisualisierung_files/figure-html/unnamed-chunk-16-1.png" width="672" /></p>
<p>In der Vorlage ist jedoch nicht nur die Kontur farbig (also nicht ur die <code>color</code>), sondern auch die Füllung (das <code>fill</code>).</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a>reproducibility_complete <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb19-2"><a href="#cb19-2"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> es_original, <span class="dt">color =</span> sig_original, <span class="dt">fill =</span> sig_original)) <span class="op">+</span></span>
<span id="cb19-3"><a href="#cb19-3"></a><span class="st">  </span><span class="kw">geom_density</span>()</span></code></pre></div>
<p><img src="datenvisualisierung_files/figure-html/unnamed-chunk-17-1.png" width="672" /></p>
<p>Auch hier müssen wir etwas mit unserer Transparenz arbeiten, um das gewünschte Ergebnis zu erzielen.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a>reproducibility_complete <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb20-2"><a href="#cb20-2"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> es_original, <span class="dt">color =</span> sig_original, <span class="dt">fill =</span> sig_original)) <span class="op">+</span></span>
<span id="cb20-3"><a href="#cb20-3"></a><span class="st">  </span><span class="kw">geom_density</span>(<span class="dt">alpha =</span> <span class="fl">0.4</span>)</span></code></pre></div>
<p><img src="datenvisualisierung_files/figure-html/unnamed-chunk-18-1.png" width="672" /></p>
<p>Das sieht schon gut aus. Bei gestapelten Kerndichteschätzungen (also jenen, bei denen mehrere Dichten übereinander liegen) müssen wir jedoch beachten, dass wir in den seltensten Fällen die “rohe” Dichte an sich ausgeben wollen, sondern eher die Dichte, gewichtet anhand der Anzahl der Beobachtungen. Dazu müssen wir die zugrundeliegende Statistik der Dichte-Funktion ändern, was wir mit dem Argument <code>after_stat()</code> in den <em>aesthetics</em> umsetzen können.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a>reproducibility_complete <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb21-2"><a href="#cb21-2"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> es_original, <span class="dt">color =</span> sig_original, <span class="dt">fill =</span> sig_original, <span class="kw">after_stat</span>(count))) <span class="op">+</span></span>
<span id="cb21-3"><a href="#cb21-3"></a><span class="st">  </span><span class="kw">geom_density</span>(<span class="dt">alpha =</span> <span class="fl">0.4</span>)</span></code></pre></div>
<p><img src="datenvisualisierung_files/figure-html/unnamed-chunk-19-1.png" width="672" /></p>
<p>Zuletzt werden wir noch die Legende und alle Achsen los. Die Legende lassen wir mit <code>theme(legend.position = "none")</code> verschwinden, und eine <em>theme</em> ohne Achsen ist <code>theme_void()</code>.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a>reproducibility_complete <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb22-2"><a href="#cb22-2"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> es_original, <span class="dt">color =</span> sig_original, <span class="dt">fill =</span> sig_original, <span class="kw">after_stat</span>(count))) <span class="op">+</span></span>
<span id="cb22-3"><a href="#cb22-3"></a><span class="st">  </span><span class="kw">geom_density</span>(<span class="dt">alpha =</span> <span class="fl">0.4</span>) <span class="op">+</span></span>
<span id="cb22-4"><a href="#cb22-4"></a><span class="st">  </span><span class="kw">theme_void</span>()</span></code></pre></div>
<p><img src="datenvisualisierung_files/figure-html/unnamed-chunk-20-1.png" width="672" /></p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a>reproducibility_complete <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb23-2"><a href="#cb23-2"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> es_original, <span class="dt">color =</span> sig_original, <span class="dt">fill =</span> sig_original, <span class="kw">after_stat</span>(count))) <span class="op">+</span></span>
<span id="cb23-3"><a href="#cb23-3"></a><span class="st">  </span><span class="kw">geom_density</span>(<span class="dt">alpha =</span> <span class="fl">0.4</span>) <span class="op">+</span></span>
<span id="cb23-4"><a href="#cb23-4"></a><span class="st">  </span><span class="kw">theme_void</span>() <span class="op">+</span></span>
<span id="cb23-5"><a href="#cb23-5"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&quot;none&quot;</span>)</span></code></pre></div>
<p><img src="datenvisualisierung_files/figure-html/unnamed-chunk-20-2.png" width="672" /></p>
</div>
<div id="dichte-plot-y-achse" class="section level2">
<h2>Dichte-Plot <span class="math inline">\(y\)</span>-Achse</h2>
<p>Der Dichte-Plot auf der <span class="math inline">\(y\)</span>-Achse, also rechts neben dem Basis-Plot ist derselbe, wie der entlang der <span class="math inline">\(x\)</span>-Achse, jedoch mit den korrespondierenden Variablen für die Replikations-Studien (<code>es_replication</code> und <code>sig_replication</code>).</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a>reproducibility_complete <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb24-2"><a href="#cb24-2"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> es_replication, <span class="dt">color =</span> sig_replication, <span class="dt">fill =</span> sig_replication, <span class="kw">after_stat</span>(count))) <span class="op">+</span></span>
<span id="cb24-3"><a href="#cb24-3"></a><span class="st">  </span><span class="kw">geom_density</span>(<span class="dt">alpha =</span> <span class="fl">0.4</span>) <span class="op">+</span></span>
<span id="cb24-4"><a href="#cb24-4"></a><span class="st">  </span><span class="kw">theme_void</span>() <span class="op">+</span></span>
<span id="cb24-5"><a href="#cb24-5"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&quot;none&quot;</span>)</span></code></pre></div>
<p><img src="datenvisualisierung_files/figure-html/unnamed-chunk-21-1.png" width="672" /></p>
<p>Um den Plot zu drehen, benutzen wir <code>coord_flip()</code>.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a>reproducibility_complete <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb25-2"><a href="#cb25-2"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> es_replication, <span class="dt">color =</span> sig_replication, <span class="dt">fill =</span> sig_replication, <span class="kw">after_stat</span>(count))) <span class="op">+</span></span>
<span id="cb25-3"><a href="#cb25-3"></a><span class="st">  </span><span class="kw">geom_density</span>(<span class="dt">alpha =</span> <span class="fl">0.4</span>) <span class="op">+</span></span>
<span id="cb25-4"><a href="#cb25-4"></a><span class="st">  </span><span class="kw">theme_void</span>() <span class="op">+</span></span>
<span id="cb25-5"><a href="#cb25-5"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&quot;none&quot;</span>) <span class="op">+</span></span>
<span id="cb25-6"><a href="#cb25-6"></a><span class="st">  </span><span class="kw">coord_flip</span>()</span></code></pre></div>
<p><img src="datenvisualisierung_files/figure-html/unnamed-chunk-22-1.png" width="672" /></p>
</div>
<div id="plots-zusammenfügen" class="section level2">
<h2>Plots zusammenfügen</h2>
<p>Wir haben jetzt alle “Sub-Plots” erfolgreich erstellt. Die Aufgabe besteht un darin, diese Zusammenzufügen. Das geniale Paket, das wir verwenden werden, heißt <a href="https://patchwork.data-imaginist.com/index.html"><code>patchwork</code></a><a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a> und stammt von einem der Mitarbeiter von <code>ggplot2</code>; ist also explizit darauf abgestimmt. Wir machen uns, weil es sich hier um ein sehr spezielles Layout handelt, eine spezielle Funktion von <code>patchwork</code> zu nutze, mit der wir unser Plot-Layout direkt definieren können.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a><span class="kw">library</span>(patchwork)</span>
<span id="cb26-2"><a href="#cb26-2"></a></span>
<span id="cb26-3"><a href="#cb26-3"></a>arrangement &lt;-<span class="st"> &quot;</span></span>
<span id="cb26-4"><a href="#cb26-4"></a><span class="st">BBB#</span></span>
<span id="cb26-5"><a href="#cb26-5"></a><span class="st">AAAC</span></span>
<span id="cb26-6"><a href="#cb26-6"></a><span class="st">AAAC</span></span>
<span id="cb26-7"><a href="#cb26-7"></a><span class="st">AAAC</span></span>
<span id="cb26-8"><a href="#cb26-8"></a><span class="st">&quot;</span></span></code></pre></div>
<p>So haben wir angegeben, dass Plot A (unser Basis-Plot) in der linken, unteren Ecke sein soll, und zwar dreimal so hoch und breit, wie die jeweiligen Dichte-Plots. Der Dichte-Plot für die <span class="math inline">\(x\)</span>-Achse (Plot B) wird über Plot A sein und genau so breit, der Dichte-Plot für die <span class="math inline">\(y\)</span>-Achse wird rechts neben Plot A sein, aber genau so hoch wie dieser. Dadurch entsteht ein Weißraum in der rechten oberen Ecke. Die Plots müssen wir nun Objekten zuweisen und dann zusammenfügen.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a>plot_a &lt;-<span class="st"> </span>reproducibility_complete <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb27-2"><a href="#cb27-2"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> es_original, <span class="dt">y =</span> es_replication, <span class="dt">color =</span> sig_replication)) <span class="op">+</span></span>
<span id="cb27-3"><a href="#cb27-3"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">size =</span> power_r), <span class="dt">alpha =</span> <span class="fl">0.4</span>) <span class="op">+</span></span>
<span id="cb27-4"><a href="#cb27-4"></a><span class="st">  </span><span class="kw">geom_rug</span>(<span class="kw">aes</span>(<span class="dt">color =</span> sig_original), <span class="dt">sides =</span> <span class="st">&quot;b&quot;</span>) <span class="op">+</span></span>
<span id="cb27-5"><a href="#cb27-5"></a><span class="st">  </span><span class="kw">geom_rug</span>(<span class="kw">aes</span>(<span class="dt">color =</span> sig_replication), <span class="dt">sides =</span> <span class="st">&quot;l&quot;</span>) <span class="op">+</span></span>
<span id="cb27-6"><a href="#cb27-6"></a><span class="st">  </span><span class="kw">geom_hline</span>(<span class="dt">yintercept =</span> <span class="dv">0</span>, <span class="dt">linetype =</span> <span class="st">&quot;dashed&quot;</span>) <span class="op">+</span></span>
<span id="cb27-7"><a href="#cb27-7"></a><span class="st">  </span><span class="kw">geom_abline</span>(<span class="dt">slope =</span> <span class="dv">1</span>, <span class="dt">intercept =</span> <span class="dv">0</span>) <span class="op">+</span></span>
<span id="cb27-8"><a href="#cb27-8"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Original Effect Size&quot;</span>,</span>
<span id="cb27-9"><a href="#cb27-9"></a>       <span class="dt">y =</span> <span class="st">&quot;Replication Effect Size&quot;</span>,</span>
<span id="cb27-10"><a href="#cb27-10"></a>       <span class="dt">color =</span> <span class="st">&quot;p-value&quot;</span>,</span>
<span id="cb27-11"><a href="#cb27-11"></a>       <span class="dt">size =</span> <span class="st">&quot;Replication Power&quot;</span>) <span class="op">+</span></span>
<span id="cb27-12"><a href="#cb27-12"></a><span class="st">  </span><span class="kw">theme_classic</span>()</span>
<span id="cb27-13"><a href="#cb27-13"></a></span>
<span id="cb27-14"><a href="#cb27-14"></a>plot_b &lt;-<span class="st"> </span>reproducibility_complete <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb27-15"><a href="#cb27-15"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> es_original, <span class="dt">color =</span> sig_original, <span class="dt">fill =</span> sig_original, <span class="kw">after_stat</span>(count))) <span class="op">+</span></span>
<span id="cb27-16"><a href="#cb27-16"></a><span class="st">  </span><span class="kw">geom_density</span>(<span class="dt">alpha =</span> <span class="fl">0.4</span>) <span class="op">+</span></span>
<span id="cb27-17"><a href="#cb27-17"></a><span class="st">  </span><span class="kw">theme_void</span>() <span class="op">+</span></span>
<span id="cb27-18"><a href="#cb27-18"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&quot;none&quot;</span>)</span>
<span id="cb27-19"><a href="#cb27-19"></a></span>
<span id="cb27-20"><a href="#cb27-20"></a>plot_c &lt;-<span class="st"> </span>reproducibility_complete <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb27-21"><a href="#cb27-21"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> es_replication, <span class="dt">color =</span> sig_replication, <span class="dt">fill =</span> sig_replication, <span class="kw">after_stat</span>(count))) <span class="op">+</span></span>
<span id="cb27-22"><a href="#cb27-22"></a><span class="st">  </span><span class="kw">geom_density</span>(<span class="dt">alpha =</span> <span class="fl">0.4</span>) <span class="op">+</span></span>
<span id="cb27-23"><a href="#cb27-23"></a><span class="st">  </span><span class="kw">theme_void</span>() <span class="op">+</span></span>
<span id="cb27-24"><a href="#cb27-24"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&quot;none&quot;</span>) <span class="op">+</span></span>
<span id="cb27-25"><a href="#cb27-25"></a><span class="st">  </span><span class="kw">coord_flip</span>()</span>
<span id="cb27-26"><a href="#cb27-26"></a></span>
<span id="cb27-27"><a href="#cb27-27"></a>plot_a <span class="op">+</span><span class="st"> </span>plot_b <span class="op">+</span><span class="st"> </span>plot_c <span class="op">+</span><span class="st"> </span><span class="kw">plot_layout</span>(<span class="dt">design =</span> arrangement)</span></code></pre></div>
<p><img src="datenvisualisierung_files/figure-html/unnamed-chunk-24-1.png" width="672" /></p>
<p>Zuletzt kann man die Legende noch an den Rand bringen.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a>plot_a <span class="op">+</span><span class="st"> </span>plot_b <span class="op">+</span><span class="st"> </span>plot_c <span class="op">+</span><span class="st"> </span><span class="kw">plot_layout</span>(<span class="dt">design =</span> arrangement, <span class="dt">guides =</span> <span class="st">&quot;collect&quot;</span>)</span></code></pre></div>
<p><img src="datenvisualisierung_files/figure-html/unnamed-chunk-25-1.png" width="672" /></p>
</div>
</div>
<div id="weiterführende-literatur" class="section level1">
<h1>Weiterführende Literatur</h1>
<p>Exzellente Bücher zu dem Thema Datenvisualisierung, auch in Bezug auf <code>ggplot2</code> finden sich bei <span class="citation">Wickham (<a href="#ref-Wickham.2016" role="doc-biblioref">2016</a>)</span>, <span class="citation">Healy (<a href="#ref-Healy.2018" role="doc-biblioref">2018</a>)</span> und <span class="citation">Wilke (<a href="#ref-Wilke.2020" role="doc-biblioref">2020</a>)</span>.</p>
</div>
<div id="literatur" class="section level1 unnumbered">
<h1>Literatur</h1>
<div id="refs" class="references">
<div id="ref-Healy.2018">
<p>Healy, K. J. (2018). <em>Data Visualization: A practical introduction</em>. Princeton University Press. <a href="https://socviz.co/index.html">https://socviz.co/index.html</a></p>
</div>
<div id="ref-OpenScienceCollaboration.2015">
<p>Open Science Collaboration. (2015). Estimating the reproducibility of psychological science. <em>Science</em>, <em>349</em>(6251), aac4716. <a href="https://doi.org/10.1126/science.aac4716">https://doi.org/10.1126/science.aac4716</a></p>
</div>
<div id="ref-Wickham.2016">
<p>Wickham, H. (2016). <em>ggplot2: Elegant graphics for data analysis</em> (2nd ed.). Springer. <a href="https://ggplot2-book.org/">https://ggplot2-book.org/</a></p>
</div>
<div id="ref-Wilke.2020">
<p>Wilke, C. O. (2020). <em>Fundamentals of Data Visualization</em>. O’Reilly. <a href="https://serialmentor.com/dataviz/">https://serialmentor.com/dataviz/</a></p>
</div>
</div>
</div>
<div class="footnotes">
<hr />
<ol>
<li id="fn1"><p>Ähnliche Ergebnisse ließen sich mit Claus Wilkes Paket <code>cowplot</code> erzielen.<a href="#fnref1" class="footnote-back">↩︎</a></p></li>
</ol>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
