<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Daten-Import</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />
<link rel="shortcut icon" href="images/broom.ico">


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 60px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h2 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h3 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h4 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h5 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h6 {
  padding-top: 65px;
  margin-top: -65px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Chamber of Statistics</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
    Home
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Allgemeines
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="software.html">Software</a>
    </li>
    <li>
      <a href="r-basics.html">R Basics</a>
    </li>
    <li>
      <a href="stil.html">Stil</a>
    </li>
    <li>
      <a href="pakete.html">Pakete</a>
    </li>
    <li>
      <a href="daten-import.html">Daten-Import</a>
    </li>
    <li>
      <a href="data-wrangling.html">Data Wrangling</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Regression
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Überblick</li>
    <li class="divider"></li>
    <li>
      <a href="korrelation.html">Korrelation</a>
    </li>
    <li class="dropdown-header">Lineare Regression</li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Mittelwerte vergleichen
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="mittelwerte-vergleichen.html">Überblick</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">t-Tests</li>
    <li>
      <a href="t-test-einstichprobe.html">Bei einer Stichprobe</a>
    </li>
    <li>
      <a href="t-test-unabhaengig.html">Bei unabhängigen Stichproben</a>
    </li>
    <li>
      <a href="t-test-abhaengig.html">Bei abhängigen Stichproben</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">ANOVAs</li>
    <li>
      <a href="einfaktorielle-anova.html">Einfaktorielle ANOVA</a>
    </li>
    <li>
      <a href="faktorielle-anova.html">Faktorielle ANOVA</a>
    </li>
    <li class="dropdown-header">ANCOVA</li>
    <li>
      <a href="anova-messwiederholung.html">ANOVA mit Messwiederholung</a>
    </li>
    <li class="dropdown-header">Mixed ANOVA</li>
    <li>
      <a href="kontraste.html">Geplante Kontraste</a>
    </li>
    <li>
      <a href="post-hoc-tests.html">Post-hoc-Tests</a>
    </li>
    <li class="divider"></li>
  </ul>
</li>
<li>
  <a href="effektstaerken.html">Effektstärken</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-question"></span>
     
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="voraussetzungen.html">Voraussetzungen im GLM</a>
    </li>
    <li>
      <a href="zentraler-grenzwertsatz.html">Zentraler Grenzwertsatz</a>
    </li>
  </ul>
</li>
<li>
  <a href="about.html">
    <span class="fa fa-info"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Daten-Import</h1>

</div>


<p><img src="images/import_r.jpg" /></p>
<p>Bevor wir in R – oder auch in jedem anderen Statistik-Programm – arbeiten könnne, müssen wir unsere eifrig gesammelten Daten irgendwie ins Programm kriegen. In R war das für einige Datenformate lange Zeit eine schmerzhafte Angelegenheit, was das Arbeiten in R nicht gerade attraktiv gemacht hat. Das Tidyverse jedoch greift uns bei dieser Aufgabe unter die Arme und der Import ist mit einer Zeile Code (versprochen!) abgeschlossen.</p>
<p>Wir behandeln hier die gängigsten Datei-Typen: <em>Comma-Separated Values</em> (.csv), Excel-Dateien (.xlsx), SPSS-Dateien (.sav) und R-Objekt-Dateien (.rds). Jeder Datei-Typ hat seine Stärken und Schwächen, welche beim Import eine Rolle spielen können. CSV-Dateien sind eigentlich ideal zum Speichern von Daten, weil so ziemich jedes Programm, das mit Daten umgeht, entweder CSV-Daten einlesen, ausgeben oder abspeichern kann. Dabei werden die einzelnen Datenwerte durch Kommata getrennt abgespeichert (daher der Name). Jedes Komma zeigt also an, wann eine neue Spalte beginnt. Tricky wird es im deutschen Sprachraum, weil das Komma hier als Dezimaltrennzeichen genutzt wird. Die Zahl 1,5 würde also in 2 Spalten aufgeteilt werden. Da auch wir eine Daseinsberechtigung haben, und nicht alles ins englische Format überfüreh wollen, ist das Trennzeichen für CSV-Dateien bei uns kein Komma, sondern ein Semikolon (“;”).</p>
<p>Nach den CSV-Dateien werden wohl Excel-Dateien die am häufigsten verwendeten sein, wenn es um den Austausch von Daten geht. Natürlich kann man Excel-Dateien über “Speichern unter” als CSV abspeichern (etwas, das nach jeder Änderung dann immer wieder gemacht werden muss), aber den Schritt kann man sich sparen und direkt Excel-Dateien importieren.</p>
<p>Auch SPSS hat sein eigenes Datenformat, war ja klar. R hat sogar zwei, aber das RDS-Format bietet einige Vorteile, weshalb wir auch nur dieses behandeln.</p>
<p>Je nach Datei-Typ müssen wir unterschiedliche Pakete laden. Für CSV- und RDS-Dateien benötigen wir nur das Tidyverse. Für Excel-Dateien wird das Paket <code>readxl</code> verwendet, für SPSS-Dateien <code>haven</code>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="kw">library</span>(readxl)</span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="kw">library</span>(haven)</span></code></pre></div>
<p>Im GitHub-Repository findest Du <a href="https://github.com/benediktclaus/costat/tree/master/data">im Ordner “data”</a> fünf Beispiel-Dateien (<code>csv_data.csv</code>, <code>csv2_data.csv</code>, <code>excel_data.csv</code>, <code>spss_data.sav</code> und <code>rds_data.rds</code>) in unterschiedlichen Formaten, mit denen wir den Daten-Import üben werden.</p>
<div id="comma-separated-values-.csv" class="section level1">
<h1>Comma-Separated Values (.csv)</h1>
<div id="international" class="section level2">
<h2>International</h2>
<p>CSV-Dateien importieren wir mit dem Befehl <code>read_csv()</code>.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="kw">read_csv</span>(<span class="st">&quot;data/csv_data.csv&quot;</span>)</span></code></pre></div>
<pre><code>## Parsed with column specification:
## cols(
##   id = col_double(),
##   age = col_double(),
##   sex = col_character(),
##   group = col_character(),
##   test_score = col_double(),
##   bdi = col_double(),
##   well_being = col_double()
## )</code></pre>
<pre><code>## # A tibble: 530 x 7
##       id   age sex    group     test_score   bdi well_being
##    &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;          &lt;dbl&gt; &lt;dbl&gt;      &lt;dbl&gt;
##  1     1    24 Male   Waitlist        14.8     7         50
##  2     2    47 Male   Waitlist        19.0     4         25
##  3     3    24 Female Placebo         14.6     6         42
##  4     4    28 Female Waitlist        15.4     8         59
##  5     5    43 Male   Waitlist        16.2     3         12
##  6     6    25 Male   Treatment       22.0     8         20
##  7     7    22 Female Placebo         16.0     7         33
##  8     8    17 Female Treatment       22.4     5         14
##  9     9    44 Female Treatment       23.0     3         32
## 10    10    20 Female Waitlist        16.5     8         37
## # ... with 520 more rows</code></pre>
<p>Zu Beginn kriegen wir eine Information dazu, wie R die Datei eingelesen hat. Es gibt nämlich mehrere Daten-Typen. <code>read_csv()</code> versucht nun selbst zu erraten, um welchen Daten-Typen sich in den Variablen verstecken und gibt seinen Vorschlag als Info ab. <code>col_double()</code> bedeutet, dass R diese Spalte als Zahl eingelesen hat, <code>col_character()</code> dass eine Spalte als Zeichenfolge behandelt wird.</p>
<p>Dieser Befehl öffnet jedoch nur die Datei. Um sie zu speichern, müssen wir sie einem Objekt zuweisen, dessen Namen wir frei wählen können.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>csv_data &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;data/csv_data.csv&quot;</span>)</span></code></pre></div>
<pre><code>## Parsed with column specification:
## cols(
##   id = col_double(),
##   age = col_double(),
##   sex = col_character(),
##   group = col_character(),
##   test_score = col_double(),
##   bdi = col_double(),
##   well_being = col_double()
## )</code></pre>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>csv_data</span></code></pre></div>
<pre><code>## # A tibble: 530 x 7
##       id   age sex    group     test_score   bdi well_being
##    &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;          &lt;dbl&gt; &lt;dbl&gt;      &lt;dbl&gt;
##  1     1    24 Male   Waitlist        14.8     7         50
##  2     2    47 Male   Waitlist        19.0     4         25
##  3     3    24 Female Placebo         14.6     6         42
##  4     4    28 Female Waitlist        15.4     8         59
##  5     5    43 Male   Waitlist        16.2     3         12
##  6     6    25 Male   Treatment       22.0     8         20
##  7     7    22 Female Placebo         16.0     7         33
##  8     8    17 Female Treatment       22.4     5         14
##  9     9    44 Female Treatment       23.0     3         32
## 10    10    20 Female Waitlist        16.5     8         37
## # ... with 520 more rows</code></pre>
<p>Wenn Du in RStudio arbeitest, wird dir aufgefallen sein, dass dir noch ein anderer, sehr ähnlich klingender Befehl vorgeschlagen wird, nämlich <code>read.csv()</code>. Das ist die Basis-Variante, die R nativ zur Verfügung stellt. Allerdings wird der Import relativ unübersichtlich dargestellt und wir erhalten ohne weiteres Zutun keine Informationen zu den Variablen-Typen.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="kw">read.csv</span>(<span class="st">&quot;data/csv_data.csv&quot;</span>)</span></code></pre></div>
<pre><code>##      id age    sex     group test_score bdi well_being
## 1     1  24   Male  Waitlist  14.830963   7         50
## 2     2  47   Male  Waitlist  18.951326   4         25
## 3     3  24 Female   Placebo  14.619546   6         42
## 4     4  28 Female  Waitlist  15.438800   8         59
## 5     5  43   Male  Waitlist  16.181193   3         12
## 6     6  25   Male Treatment  22.037545   8         20
## 7     7  22 Female   Placebo  15.983710   7         33
## 8     8  17 Female Treatment  22.366219   5         14
## 9     9  44 Female Treatment  23.026597   3         32
## 10   10  20 Female  Waitlist  16.530477   8         37
## 11   11  28   Male Treatment  14.598394   5         15
## 12   12  46 Female  Waitlist  18.594622   6         57
## 13   13  43   Male   Placebo  20.850671   4         31
## 14   14  48   Male Treatment  20.520692   7         19
## 15   15  32   Male Treatment  28.278799   2         21
## 16   16  45 Female Treatment  20.037016   4         40
## 17   17  30 Female   Placebo   9.963999   3         50
## 18   18  45   Male  Waitlist  14.552438   1         52
## 19   19  21   Male  Waitlist  15.447021   4         58
## 20   20  38 Female Treatment  17.896427   1         46
## 21   21  47   Male Treatment  22.458752   3         20
## 22   22  44   Male   Placebo  21.351758   1         13
## 23   23  36 Female   Placebo  14.896804   3         46
## 24   24  29 Female   Placebo  18.709113   3         22
## 25   25  45 Female  Waitlist  20.140872   6         22
## 26   26  48   Male   Placebo  17.808666   5         45
## 27   27  41 Female   Placebo  18.734497   5         14
## 28   28  49   Male Treatment  16.802089   5         41
## 29   29  30   Male Treatment  20.425132   1         39
## 30   30  48   Male  Waitlist  24.605413   4         57
## 31   31  30   Male  Waitlist  16.878033   3         19
## 32   32  20 Female Treatment  22.497833   5         59
## 33   33  45   Male   Placebo  14.416401   2         13
## 34   34  19   Male  Waitlist  24.052620   2         53
## 35   35  17   Male Treatment  25.681463   2         22
## 36   36  41   Male   Placebo  16.137472   9         15
## 37   37  49 Female  Waitlist  20.557112   1         24
## 38   38  18 Female   Placebo  20.312771   4         41
## 39   39  22   Male   Placebo  16.465839   2         47
## 40   40  27 Female Treatment  20.988159   3         40
## 41   41  44 Female Treatment  24.229824   3         41
## 42   42  42   Male   Placebo  15.449402   4         26
## 43   43  50 Female   Placebo  21.268919   3         35
## 44   44  32 Female Treatment  25.625651   8         16
## 45   45  20 Female   Placebo  18.058238   6         59
## 46   46  32 Female   Placebo  17.631963   1         24
## 47   47  33   Male  Waitlist  22.110356   8         18
## 48   48  32   Male   Placebo  19.083754   3         25
## 49   49  23   Male Treatment  15.371831   4         59
## 50   50  26   Male   Placebo  22.901227   4         46
## 51   51  44   Male  Waitlist  13.780166   3         56
## 52   52  47 Female Treatment  18.529491   3         47
## 53   53  47 Female Treatment  14.404215   3         36
## 54   54  27   Male   Placebo  19.129989   4         57
## 55   55  40   Male  Waitlist  18.903438   5         35
## 56   56  42 Female Treatment  23.578581   8         52
## 57   57  22   Male Treatment  18.987187  10         38
## 58   58  18 Female  Waitlist  16.601481   2         18
## 59   59  18   Male Treatment  18.519873   1         38
## 60   60  44   Male  Waitlist  15.646308   2         58
## 61   61  21   Male  Waitlist  18.543104   2         24
## 62   62  24   Male   Placebo  24.027461   1         33
## 63   63  40   Male  Waitlist  21.249020   4         52
## 64   64  38 Female Treatment  25.376193   3         13
## 65   65  43   Male  Waitlist  16.181173   2         59
## 66   66  17 Female   Placebo  22.969084   5         29
## 67   67  42   Male  Waitlist  16.807646   6         19
## 68   68  23   Male Treatment  23.436641   6         16
## 69   69  49   Male  Waitlist  17.557085   2         57
## 70   70  41 Female Treatment  30.308846  11         38
## 71   71  28   Male   Placebo  20.256123   4         51
## 72   72  17   Male  Waitlist  16.870011   4         44
## 73   73  46   Male Treatment  19.286927   1         29
## 74   74  19   Male Treatment  20.711221   7         15
## 75   75  29   Male Treatment  24.012376   1         39
## 76   76  23   Male Treatment  21.209376   2         22
## 77   77  31   Male  Waitlist  16.756785   3         25
## 78   78  36 Female Treatment  16.372833   0         40
## 79   79  16 Female  Waitlist  19.662887   4         18
## 80   80  40 Female  Waitlist  23.532984   4         34
## 81   81  50 Female Treatment  20.600158   1         41
## 82   82  38 Female  Waitlist  25.512852   3         57
## 83   83  24 Female Treatment  12.801259   8         44
## 84   84  38 Female Treatment  22.265600   6         51
## 85   85  40 Female Treatment  28.278386   6         39
## 86   86  42 Female   Placebo  19.677741   4         19
## 87   87  34   Male   Placebo  19.176906   3         55
## 88   88  48 Female  Waitlist  23.611693   4         41
## 89   89  29 Female  Waitlist  21.662897   2         57
## 90   90  39   Male Treatment  15.391568   3         21
## 91   91  42 Female   Placebo  15.188511   4         44
## 92   92  17   Male Treatment  22.202550   1         44
## 93   93  44 Female   Placebo  15.788929   3         14
## 94   94  49   Male Treatment  13.969373   5         14
## 95   95  46   Male Treatment  23.018800   9         20
## 96   96  46 Female   Placebo  17.933293   3         32
## 97   97  33 Female  Waitlist  21.673127   5         53
## 98   98  30 Female  Waitlist  11.932595   3         55
## 99   99  18 Female Treatment  21.858603   2         59
## 100 100  33   Male   Placebo  14.373729   4         60
## 101 101  40 Female   Placebo  17.519324   6         42
## 102 102  17   Male  Waitlist  20.009557  12         31
## 103 103  50   Male   Placebo  18.654740   2         20
## 104 104  39   Male   Placebo  25.991534   7         38
## 105 105  21 Female  Waitlist  23.607069   4         50
## 106 106  36 Female  Waitlist  18.910912   9         13
## 107 107  38 Female   Placebo  17.784416   7         19
## 108 108  48 Female  Waitlist  22.188541   2         26
## 109 109  36   Male Treatment  15.579388   1         59
## 110 110  17 Female  Waitlist  14.961379   7         14
## 111 111  24 Female Treatment  18.759443   6         54
## 112 112  21   Male Treatment  16.491228   3         59
## 113 113  33   Male  Waitlist  14.070121   4         21
## 114 114  49 Female  Waitlist  14.678054   3         17
## 115 115  35 Female  Waitlist  16.776493   4         33
## 116 116  19 Female Treatment  17.166675   3         51
## 117 117  30   Male   Placebo  14.959392   2         55
## 118 118  26 Female  Waitlist  16.345063   5         43
## 119 119  50 Female  Waitlist  24.255593   4         43
## 120 120  35   Male  Waitlist  22.930437   9         55
## 121 121  42 Female  Waitlist  22.914002   3         57
## 122 122  50 Female  Waitlist  20.155140   3         27
## 123 123  25 Female  Waitlist  23.323915   2         49
## 124 124  33   Male   Placebo  15.446671   2         55
## 125 125  41   Male   Placebo  23.644645   1         13
## 126 126  30   Male  Waitlist  24.649189   2         48
## 127 127  46   Male Treatment  26.058207   2         12
## 128 128  40   Male   Placebo  19.040639   5         44
## 129 129  29 Female   Placebo  23.001233   4         26
## 130 130  45 Female Treatment  15.738587   2         51
## 131 131  50   Male Treatment  16.838571   5         44
## 132 132  41   Male Treatment  21.184144   2         28
## 133 133  21 Female Treatment  23.467592   2         44
## 134 134  22 Female  Waitlist  20.336577   4         38
## 135 135  46 Female Treatment  24.611880   6         26
## 136 136  17 Female Treatment  13.752675   8         46
## 137 137  40   Male   Placebo  24.766789   2         13
## 138 138  29   Male Treatment  23.749299   2         44
## 139 139  43   Male  Waitlist  22.794793   6         25
## 140 140  26   Male  Waitlist  28.446327   2         12
## 141 141  23 Female Treatment  17.973373  13         34
## 142 142  46   Male   Placebo  23.963685   2         36
##  [ reached &#39;max&#39; / getOption(&quot;max.print&quot;) -- omitted 388 rows ]</code></pre>
<p>Deswegen kann man an dieser Stelle gerne im Tidyverse bleiben.</p>
</div>
<div id="deutschsprachiger-raum" class="section level2">
<h2>Deutschsprachiger Raum</h2>
<p>Im deutschen Sprachraum (und auch noch in anderen Gebieten, in denen das Komma schon als Dezimaltrennzeichen verwendet wird) wird anstatt des Kommas das Semikolon zum Trennen von Werten genutzt. Wenn man sich die Datei in einem Text-Editor genauer anschaut, wird man genau das feststellen. Hat man eine solche Datei, nutzt man einfach <code>read_csv2()</code>.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="kw">read_csv2</span>(<span class="st">&quot;data/csv2_data.csv&quot;</span>)</span></code></pre></div>
<pre><code>## Using &#39;,&#39; as decimal and &#39;.&#39; as grouping mark. Use read_delim() for more control.</code></pre>
<pre><code>## Parsed with column specification:
## cols(
##   id = col_double(),
##   age = col_double(),
##   sex = col_character(),
##   group = col_character(),
##   test_score = col_double(),
##   bdi = col_double(),
##   well_being = col_double()
## )</code></pre>
<pre><code>## # A tibble: 530 x 7
##       id   age sex    group     test_score   bdi well_being
##    &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;          &lt;dbl&gt; &lt;dbl&gt;      &lt;dbl&gt;
##  1     1    24 Male   Waitlist        14.8     7         50
##  2     2    47 Male   Waitlist        19.0     4         25
##  3     3    24 Female Placebo         14.6     6         42
##  4     4    28 Female Waitlist        15.4     8         59
##  5     5    43 Male   Waitlist        16.2     3         12
##  6     6    25 Male   Treatment       22.0     8         20
##  7     7    22 Female Placebo         16.0     7         33
##  8     8    17 Female Treatment       22.4     5         14
##  9     9    44 Female Treatment       23.0     3         32
## 10    10    20 Female Waitlist        16.5     8         37
## # ... with 520 more rows</code></pre>
<p>Auch hier wieder nicht vergessen, den importierten Datensatz einem Objekt zuzuweisen!</p>
</div>
</div>
<div id="excel-.xlsx" class="section level1">
<h1>Excel (.xlsx)</h1>
<p>Excel-Dateien könnnen mit der Funktion <code>read_excel()</code> geöffnet werden.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a><span class="kw">read_excel</span>(<span class="st">&quot;data/excel_data.xlsx&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 530 x 7
##       id   age sex    group     test_score   bdi well_being
##    &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;          &lt;dbl&gt; &lt;dbl&gt;      &lt;dbl&gt;
##  1     1    24 Male   Waitlist        14.8     7         50
##  2     2    47 Male   Waitlist        19.0     4         25
##  3     3    24 Female Placebo         14.6     6         42
##  4     4    28 Female Waitlist        15.4     8         59
##  5     5    43 Male   Waitlist        16.2     3         12
##  6     6    25 Male   Treatment       22.0     8         20
##  7     7    22 Female Placebo         16.0     7         33
##  8     8    17 Female Treatment       22.4     5         14
##  9     9    44 Female Treatment       23.0     3         32
## 10    10    20 Female Waitlist        16.5     8         37
## # ... with 520 more rows</code></pre>
<p>Auch hier wieder nicht vergessen, den importierten Datensatz einem Objekt zuzuweisen!</p>
</div>
<div id="spss-.sav" class="section level1">
<h1>SPSS (.sav)</h1>
<p>SPSS-Dateien können mit der Funktion <code>read_spss()</code> geöffnet werden.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a><span class="kw">read_spss</span>(<span class="st">&quot;data/spss_data.sav&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 530 x 7
##       id   age        sex         group test_score   bdi well_being
##    &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl+lbl&gt;     &lt;dbl+lbl&gt;      &lt;dbl&gt; &lt;dbl&gt;      &lt;dbl&gt;
##  1     1    21 1 [Male]   1 [Waitlist]        19.5     6         37
##  2     2    18 2 [Female] 2 [Treatment]       25.1     1         32
##  3     3    37 1 [Male]   1 [Waitlist]        18.4     5         37
##  4     4    36 1 [Male]   1 [Waitlist]        18.4     6         55
##  5     5    45 1 [Male]   1 [Waitlist]        23.7     3         38
##  6     6    37 2 [Female] 3 [Placebo]         13.4     3         36
##  7     7    32 1 [Male]   2 [Treatment]       18.5     2         21
##  8     8    32 2 [Female] 3 [Placebo]         25.4     3         30
##  9     9    20 2 [Female] 2 [Treatment]       15.3     3         32
## 10    10    41 1 [Male]   1 [Waitlist]        20.1     1         16
## # ... with 520 more rows</code></pre>
<p>Die Variablen <code>sex</code> und <code>group</code> sehen relativ komisch aus, weil hier anscheindn Zahlen und Worte abgespeichert wurden. In SPSS speichert man Faktoren, indem einem selbst gewähltem Faktor-Level ein -Label gegeben wird. Diese behält <code>read_spss()</code> freundlicherweise beide für uns (zu erkennen am Typ &lt;dbl + lbl&gt;), damit wir damit später <a href="data-wrangling.html">selbst umgehen können</a>.</p>
</div>
<div id="r-.rds" class="section level1">
<h1>R (.rds)</h1>
<p>Das Beste kommt zum Schluss: RDS-Dateien können mit <code>read_rds()</code> geöffnet werden.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a><span class="kw">read_rds</span>(<span class="st">&quot;data/rds_data.rds&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 530 x 7
##       id   age sex    group     test_score   bdi well_being
##    &lt;int&gt; &lt;dbl&gt; &lt;fct&gt;  &lt;fct&gt;          &lt;dbl&gt; &lt;dbl&gt;      &lt;dbl&gt;
##  1     1    21 Male   Waitlist        19.5     6         37
##  2     2    18 Female Treatment       25.1     1         32
##  3     3    37 Male   Waitlist        18.4     5         37
##  4     4    36 Male   Waitlist        18.4     6         55
##  5     5    45 Male   Waitlist        23.7     3         38
##  6     6    37 Female Placebo         13.4     3         36
##  7     7    32 Male   Treatment       18.5     2         21
##  8     8    32 Female Placebo         25.4     3         30
##  9     9    20 Female Treatment       15.3     3         32
## 10    10    41 Male   Waitlist        20.1     1         16
## # ... with 520 more rows</code></pre>
<p>Das Schöne an diesem Weg des Speicherns und Importierens ist, dass wir automatisch die korrekten Daten-Typen in den Variablen mit abgespeichert und eingelesen werden. Die Variablen <code>sex</code> und <code>group</code> sind nämlich Faktoren (zu erkennen am Typ <code>&lt;fct&gt;</code>), was durch das Einlesen des Datensatzes mit <code>read_rds()</code> berücksichtigt wurde. Wenn man noch einmal in die obigen Beispiele schaut, wird deutlich, dass das in allen anderen Methoden nicht geklappt hat. Teilt man Daten zwischen R-Nutzern, kann man das RDS-Format ohne weiteres ans Herz legen!</p>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
